<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>


    <meta name="description" content="Zhongshan's Blog" />



  <meta name="keywords" content="Zhongshan,钟山,钟山的个人博客" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description" content="Zhongshan&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="钟山">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="钟山">
<meta property="og:description" content="Zhongshan&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="钟山">
<meta name="twitter:description" content="Zhongshan&apos;s Blog">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

    <title> 钟山 </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?5a2d0a4cdbf5a39b405be1bde03decdb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



<div class="container one-column 
   page-home 
">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">钟山</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'ziircGxZ7ZMf75HN6yzE','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/04/26/Node-js基础，如何升级Node-js版本/" itemprop="url">
                Node.js基础，如何升级Node.js版本
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-04-26T20:54:23+08:00" content="2016-04-26">
            2016-04-26
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/翻译/" itemprop="url" rel="index"><span itemprop="name">翻译</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/04/26/Node-js基础，如何升级Node-js版本/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/26/Node-js基础，如何升级Node-js版本/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>原文链接：<a href="http://theholmesoffice.com/node-js-fundamentals-how-to-upgrade-the-node-js-version/" target="_blank" rel="external">http://theholmesoffice.com/node-js-fundamentals-how-to-upgrade-the-node-js-version/</a></p>
<p>Node.js的开发非常活跃，其最新的稳定版本也频繁升级。你经常会发现某些模块在你当前的Node.js版本下无法使用，而需要升级。</p>
<p>幸运的是，现在有一个非常简单的方法来管理你的Node.js版本，即Node binary管理模块’n’。</p>
<ol>
<li>查看机器上目前的Node.js版本。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$node</span> -v v0.<span class="number">6.12</span></span><br></pre></td></tr></table></figure>
<ol>
<li>清除npm缓存。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm cache clean <span class="operator">-f</span></span><br></pre></td></tr></table></figure>
<ol>
<li>安装’n’模块。</li>
</ol>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -<span class="keyword">g</span> <span class="keyword">n</span></span><br></pre></td></tr></table></figure>
<ol>
<li>升级到最新的版本（这一步可能要花点时间），也可以指定需要安装的版本。</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">sudo</span> <span class="tag">n</span> 0<span class="class">.8</span><span class="class">.11</span></span><br></pre></td></tr></table></figure>
<p>也可以向下面这样直接安装最新的稳定版本</p>
<figure class="highlight mercury"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo n <span class="preprocessor">stable</span></span><br></pre></td></tr></table></figure>
<ol>
<li>查看Node.js的版本，确定是否升级成功。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$node</span> -v</span><br></pre></td></tr></table></figure>
<p>如果第5步显示还是原来的版本，你可能需要重启一下你的机器，或者试试重启终端（译者注）。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/04/24/LiveReload插件无刷新开发/" itemprop="url">
                LiveReload插件无刷新开发
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-04-24T00:21:34+08:00" content="2016-04-24">
            2016-04-24
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/04/24/LiveReload插件无刷新开发/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/24/LiveReload插件无刷新开发/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>最新版的sublime text 3 plugin - LiveReload + chrome extension - LiveReload组合使用，彻底解放F5，特别适合在多屏幕上的前端开发，下面是我的安装过程(windows平台)：</p>
<h2 id="在sublime-text-3上安装LiveReload插件"><a href="#在sublime-text-3上安装LiveReload插件" class="headerlink" title="在sublime text 3上安装LiveReload插件"></a>在sublime text 3上安装LiveReload插件</h2><p>按下<code>ctrl+shift+p</code>，输入并选择<code>Package Control: Install Package</code>，跳出对话框后，输入<code>LiveReload</code>安装该插件。（其实就和安装普通sublime插件的过程一样）。</p>
<p>重新启动sublime，每次重开sublime都需要执行一次下面的过程才生效。</p>
<ol>
<li>ctrl+shift+p 打开包管理器</li>
<li>LiveReload: Enable/disable plugins</li>
<li>Enable - SimpleReload</li>
</ol>
<p>这时候它的livereload服务才可以真正使用,可以打开<a href="http://localhost:35729/livereload.js?snipver=1以测试,如果livereload服务正常,则会正确显示JS内容,反则之服务没正常启动。" target="_blank" rel="external">http://localhost:35729/livereload.js?snipver=1以测试,如果livereload服务正常,则会正确显示JS内容,反则之服务没正常启动。</a><br>此时也可以在sublime底部看到<code>xxx has been enabled</code>的提示。</p>
<h2 id="在chrome上安装LiveReload扩展（需要翻墙）"><a href="#在chrome上安装LiveReload扩展（需要翻墙）" class="headerlink" title="在chrome上安装LiveReload扩展（需要翻墙）"></a>在chrome上安装LiveReload扩展（需要翻墙）</h2><p>安装方式和普通扩展安装方式相同，安装后启用，此时可看到右上角的LiveReload图标。<br><img src="http://7xksst.com1.z0.glb.clouddn.com/QQ%E5%9B%BE%E7%89%8720160423235554.png" alt=""></p>
<h2 id="以服务器的方式打开页面"><a href="#以服务器的方式打开页面" class="headerlink" title="以服务器的方式打开页面"></a>以服务器的方式打开页面</h2><p>我这里用的是 <code>http-server</code>，例如<code>localhost:3000</code>，接着点击刚刚安装的chrome插件，中间变为实心黑色圆点表示开始运作了。<br><img src="http://7xksst.com1.z0.glb.clouddn.com/GIF817218271.gif" alt=""></p>
<p>以下是演示效果，很爽有木有！</p>
<p><img src="http://7xksst.com1.z0.glb.clouddn.com/GIF21212998912.gif" alt=""></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/04/16/codeigniter3-0中model书写的问题/" itemprop="url">
                codeigniter3.0中model书写的问题
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-04-16T21:49:45+08:00" content="2016-04-16">
            2016-04-16
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/back-end/" itemprop="url" rel="index"><span itemprop="name">back-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/04/16/codeigniter3-0中model书写的问题/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/16/codeigniter3-0中model书写的问题/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>今天把一个codeigniter程序部署到linux(centos)下的nginx的时候出现了<br><strong>Unable to locate the model you have specified:*_model</strong>  这个问题.</p>
<p>顺手粘贴到网上搜索了一下，这是由于大小写问题引起的。</p>
<p>在codeigniter3.0中，model文件名的首字母必须大写，如 <code>User_model.php</code>，在这个文件中，书写规则如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意这里的'User_model'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User_model</span> <span class="keyword">extends</span> <span class="title">CI_Model</span></span>&#123;</span><br><span class="line">        <span class="comment">//验证用户是否已经登陆</span></span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">adminValid</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="variable">$user</span> = <span class="variable">$this</span>-&gt;session-&gt;userdata(<span class="string">'user_name'</span>);  </span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$user</span>)) &#123;</span><br><span class="line">                <span class="variable">$url</span> = site_url(<span class="string">'login/index'</span>);</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">"&lt;script&gt;window.location='$url';&lt;/script&gt;"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>在<code>controller</code>中，使用如下： </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">parent</span>::__construct(); <span class="comment">//调用父类的构造方法</span></span><br><span class="line">    <span class="comment">// header("Content-Type:text/html;charset=utf-8");</span></span><br><span class="line">    error_reporting(E_ALL ^E_NOTICE);</span><br><span class="line">    <span class="comment">//登陆验证...</span></span><br><span class="line">    <span class="variable">$this</span>-&gt;load-&gt;model(<span class="string">'user_model'</span>,<span class="string">'user'</span>);</span><br><span class="line">    <span class="variable">$this</span>-&gt;user-&gt;adminValid();</span><br><span class="line">    <span class="comment">//权限验证...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个规则是必须遵守的，在Windows下无所谓，但是在Linux下就会出问题。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/04/12/JS中引用的小问题/" itemprop="url">
                JS中引用的小问题
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-04-12T23:11:13+08:00" content="2016-04-12">
            2016-04-12
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/04/12/JS中引用的小问题/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/12/JS中引用的小问题/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>今天做简单的冒泡排序时，由于需要用图示法来展示冒泡排序的过程。于是便对每一次数组位置调换记录了快照，然后在渲染。开始的代码是这样的：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="dns"></span><br><span class="line">    var arr = [<span class="number">5,4,3,2</span>,1]<span class="comment">;</span></span><br><span class="line">    var i = 0,</span><br><span class="line">        j = 0,</span><br><span class="line">        temp = 0<span class="comment">;</span></span><br><span class="line">        len = arr.length<span class="comment">;</span></span><br><span class="line">        snapshoot = [],</span><br><span class="line">    for (i=0<span class="comment">; i &lt; len; i++) &#123;</span></span><br><span class="line">    for (j = len-1<span class="comment">; j &gt; i; j--) &#123;</span></span><br><span class="line">      if (arr[j-1] &gt; arr[j]) &#123;</span><br><span class="line">        temp = arr[j-1]<span class="comment">;</span></span><br><span class="line">        arr[j-1] = arr[j]<span class="comment">;</span></span><br><span class="line">        arr[j] = temp<span class="comment">;</span></span><br><span class="line">        // 记录快照</span><br><span class="line">        snapshoot.push(arr)<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里最后<code>snapshoot</code>最后的元素都是一个相同的数组：<code>[1,2,3,4,5]</code>，即排序完成后的<code>arr</code>，是什么原因导致了这样的结果呢？因为<code>snapshoot</code>中的<code>arr</code>都指向同一个数组。</p>
<p>这里的解决方法多种多样，只要解除<code>push</code>后<code>snapshoot</code>中元素的指向即可。<br>如： </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">snapshoot</span><span class="class">.push</span>(<span class="tag">JSON</span><span class="class">.parse</span>(<span class="tag">JSON</span><span class="class">.stringify</span>(<span class="tag">arr</span>)));</span><br></pre></td></tr></table></figure>
<p>抑或：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">snapshoot</span><span class="class">.push</span>(<span class="tag">arr</span><span class="class">.concat</span>());</span><br></pre></td></tr></table></figure>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/03/20/CSS居中完全指南/" itemprop="url">
                CSS居中完全指南
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-03-20T20:44:12+08:00" content="2016-03-20">
            2016-03-20
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/翻译/" itemprop="url" rel="index"><span itemprop="name">翻译</span></a></span>

              
              
                ， 
              

            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/翻译/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/03/20/CSS居中完全指南/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/20/CSS居中完全指南/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>原文地址<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="external">https://css-tricks.com/centering-css-complete-guide/</a></p>
<p>CSS居中事件是CSS的难点之一。有人埋怨，为什么一个“居中”要这么难呢？而我认为，这个问题并不是那么复杂，而是因为在不同情况下，总是有多种不同的解决方式，但我们不知道该用哪种。</p>
<p>所以我写了一个决策树，希望能使这个问题更加简单一点。</p>
<h2 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h2><h3 id="如果需要水平居中的元素是行内元素或是类行内元素（如text和links）"><a href="#如果需要水平居中的元素是行内元素或是类行内元素（如text和links）" class="headerlink" title="如果需要水平居中的元素是行内元素或是类行内元素（如text和links）"></a>如果需要水平居中的元素是行内元素或是类行内元素（如<code>text</code>和<code>links</code>）</h3><p>当需要将一个块级元素下的行内元素水平居中时，只需要使用如下代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.center-children</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>这对设置<code>display</code>属性为<code>inline</code>，<code>inline-block</code>，<code>inline-table</code>，<code>inline-flex</code>等属性的元素有效。</p>
<h3 id="当需要水平居中一个块级元素时"><a href="#当需要水平居中一个块级元素时" class="headerlink" title="当需要水平居中一个块级元素时"></a>当需要水平居中一个块级元素时</h3><p>我们可以通过将块级元素的<code>margin-right</code>和<code>margin-left</code>属性设置为<code>auto</code>来居中它（这时，这个元素必须设定宽度<code>width</code>，否则宽度会为100%而不需要居中），常常我们会这样写：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.center-me</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>居中的块级元素或其父元素不管是哪种宽度，这种方法都有效。<br>值得注意的是，这对浮动元素是无效的。但是，可以看看<a href="https://css-tricks.com/float-center/" target="_blank" rel="external">居中浮动元素的小技巧</a>。</p>
<h3 id="当需要居中两个或两个以上的块级元素时"><a href="#当需要居中两个或两个以上的块级元素时" class="headerlink" title="当需要居中两个或两个以上的块级元素时"></a>当需要居中两个或两个以上的块级元素时</h3><p>如果你需要在同一行内居中两个或两个以上的块级元素，最好是改变它们的<code>display</code>属性，以下是将<code>display</code>属性设为<code>inline-block</code>和<code>flex</code>的例子：</p>
<p><a href="http://codepen.io/chriscoyier/pen/ebing" target="_blank" rel="external">查看DEMO</a><br><img src="http://7xksst.com1.z0.glb.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20160320190719.png" alt=""></p>
<p>如果你想居中从上到下依次排列的几个块级元素，那么<a href="#当需要水平居中一个块级元素时">当需要水平居中一个块级元素时</a>依然有效。</p>
<h2 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h2><p>CSS垂直居中需要一点小技巧。</p>
<h3 id="如果需要垂直居中的元素是行内元素或是类行内元素（如text和links）"><a href="#如果需要垂直居中的元素是行内元素或是类行内元素（如text和links）" class="headerlink" title="如果需要垂直居中的元素是行内元素或是类行内元素（如text和links）"></a>如果需要垂直居中的元素是行内元素或是类行内元素（如<code>text</code>和<code>links</code>）</h3><h4 id="如果垂直居中元素只占一行"><a href="#如果垂直居中元素只占一行" class="headerlink" title="如果垂直居中元素只占一行"></a>如果垂直居中元素只占一行</h4><p>由于<code>padding-top</code>和<code>padding-bottom</code>相等，<code>inline</code>或<code>text</code>元素即可表现为垂直居中。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.link</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-top</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-bottom</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>如果由于某些原因不能使用<code>padding</code>属性，在已知该文本不会被包含的前提下，可以将该文本元素的<code>line-height</code>和<code>height</code>设为相等，即可居中。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.center-text-trick</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">white-space</span>:<span class="value"> nowrap</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="如果垂直居中元素占多行"><a href="#如果垂直居中元素占多行" class="headerlink" title="如果垂直居中元素占多行"></a>如果垂直居中元素占多行</h4><p>将<code>padding-top</code>和<code>padding-bottom</code>设为相等也能让包含多行文本的元素居中。但是有时候这种方法也无济于事，那么这个元素或许是类<code>table-cell</code>元素或者就是<code>table-cell</code>元素，这种情况下，就和处理单行文本元素的方式不同了。</p>
<p><a href="http://codepen.io/chriscoyier/pen/ekoFx" target="_blank" rel="external">查看DEMO</a></p>
<p><img src="http://7xksst.com1.z0.glb.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20160320194847.png" alt=""></p>
<p>如果table的方式过时了，或许你可以用<code>flexbox</code>，设置flex属性的父元素可以轻松地居中其子元素。</p>
<p><a href="http://codepen.io/chriscoyier/pen/uHygv" target="_blank" rel="external">查看DEMO</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.flex-center-vertically</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> center</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">flex-direction</span>:<span class="value"> column</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">400px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>记住，之所以这里的父元素包含块都设置了高度<code>height</code>，是因为这和父元素的固定高度真的有很大关系（%、px等）。</p>
<p>如果以上的技巧都已经过时，你可以使用“伪元素”，在包含块中放一个100%高度的伪元素，通过这种方法，文本元素也可在包含块中居中。</p>
<p><a href="http://codepen.io/chriscoyier/pen/ofwgD" target="_blank" rel="external">查看DEMO</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.ghost-center</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="rule"><span class="attribute">.ghost-center</span>:<span class="value">:before &#123;</span><br><span class="line">  content: <span class="string">" "</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">1%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">vertical-align</span>:<span class="value"> middle</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.ghost-center</span> <span class="tag">p</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">vertical-align</span>:<span class="value"> middle</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="当需要垂直居中一个块级元素时"><a href="#当需要垂直居中一个块级元素时" class="headerlink" title="当需要垂直居中一个块级元素时"></a>当需要垂直居中一个块级元素时</h3><h4 id="垂直居中已知高度的块级元素"><a href="#垂直居中已知高度的块级元素" class="headerlink" title="垂直居中已知高度的块级元素"></a>垂直居中已知高度的块级元素</h4><p>由于许多原因，常常不能确定网页布局中元素的高度，例如：以为宽度的变化，文本重新排列会改变元素的高度；改变文本的CSS属性会改变元素高度；文本长度的改变也会导致元素高度的改变；像<code>image</code>这种有固定长宽比的元素，调整大小后也会导致高度的改变。</p>
<p>但是，如果你知道高度，你可以使用如下方式垂直居中：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.child</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> -<span class="number">50px</span></span></span>; <span class="comment">/* account for padding and border if not using box-sizing: border-box; */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="垂直居中未知高度的块级元素"><a href="#垂直居中未知高度的块级元素" class="headerlink" title="垂直居中未知高度的块级元素"></a>垂直居中未知高度的块级元素</h4><p>这时候，我们仍然可以把元素向上移动其高度的一半来垂直居中它。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.child</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">translateY</span>(-<span class="number">50%</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="也可以使用flexbox"><a href="#也可以使用flexbox" class="headerlink" title="也可以使用flexbox"></a>也可以使用<code>flexbox</code></h4><p>见怪不惊，<code>flexbox</code>会容易得多。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">flex-direction</span>:<span class="value"> column</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> center</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h2><p>你可以以任何方式组合以上的写法，来达到完美居中元素的目的。但我发现不外乎这三种情况。</p>
<h3 id="如果元素有固定宽度和高度"><a href="#如果元素有固定宽度和高度" class="headerlink" title="如果元素有固定宽度和高度"></a>如果元素有固定宽度和高度</h3><p>将元素固定定位，<code>left</code>和<code>top</code>设为50%，设置负外边距，<code>margin-left</code>设为<code>width</code>的一半，<code>margin-top</code>设为<code>height</code>的一半，兼容大多数浏览器。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="class">.child</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">300px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="rule"><span class="attribute">margin</span>:<span class="value"> -<span class="number">70px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">170px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="未知宽高的元素"><a href="#未知宽高的元素" class="headerlink" title="未知宽高的元素"></a>未知宽高的元素</h3><p>如果宽高未知，你可以使用<code>transform</code>属性。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.child</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>)</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="使用flexbox"><a href="#使用flexbox" class="headerlink" title="使用flexbox"></a>使用<code>flexbox</code></h3><p>你需要使用两个居中属性来水平垂直居中元素。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.parent</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> center</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">align-items</span>:<span class="value"> center</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>完全可以用CSS来达到居中元素的目的。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/03/17/选一种更好的清除浮动方案/" itemprop="url">
                选一种更好的清除浮动方案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-03-17T11:37:24+08:00" content="2016-03-17">
            2016-03-17
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              
                ， 
              

            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/翻译/" itemprop="url" rel="index"><span itemprop="name">翻译</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/03/17/选一种更好的清除浮动方案/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/17/选一种更好的清除浮动方案/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>原文链接<a href="http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best" target="_blank" rel="external">http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best</a></p>
<p>清除浮动的方式多种多样，以下每种方案在不同情况下，都有它出色的地方。</p>
<h2 id="重提clearfix"><a href="#重提clearfix" class="headerlink" title="重提clearfix"></a>重提clearfix</h2><p>在<a href="http://cssmojo.com/the-very-latest-clearfix-reloaded/" target="_blank" rel="external">CSS Mojo</a>中Thierry Koblentz单独写了一篇文章来重温<code>clearfix</code>，强烈建议摈弃<code>display: table</code>的写法，而改用<code>display: block</code>的写法，其优点是避免包含块之间的<code>margin</code>塌陷（collapse）。</p>
<p>最近的一种代码量更少的清除浮动方案是这样的：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">.container</span>:<span class="value">after &#123;</span><br><span class="line">    content: <span class="string">''</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">clear</span>:<span class="value"> both</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="“忘掉上面的写法吧”，让我们看看在现代浏览器上怎么写"><a href="#“忘掉上面的写法吧”，让我们看看在现代浏览器上怎么写" class="headerlink" title="“忘掉上面的写法吧”，让我们看看在现代浏览器上怎么写"></a>“忘掉上面的写法吧”，让我们看看在现代浏览器上怎么写</h2><p>在<a href="http://cssmojo.com/the-very-latest-clearfix-reloaded/" target="_blank" rel="external">CSS Mojo</a>中Thierry Koblentz还指出，针对现代浏览器开发时，我们可以弃用<code>zoom</code>和<code>:before</code>等属性/值，简化写法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">.container</span>:<span class="value">after &#123;</span><br><span class="line">    content: <span class="string">''</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> table</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">clear</span>:<span class="value"> both</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种写法特意没有支持IE6/7……</p>
<p>提醒一句：如果你重新开始一个新项目，放心做吧，但是不要使用这种写法，虽然你没有支持旧版本的IE浏览器，但是可以避免<code>margin</code>塌陷。</p>
<h2 id="代码更少的清除浮动"><a href="#代码更少的清除浮动" class="headerlink" title="代码更少的清除浮动"></a>代码更少的清除浮动</h2><p>这是最近广为接受的一种方案<a href="http://nicolasgallagher.com/micro-clearfix-hack/" target="_blank" rel="external">Micro Clearfix by Nicolas Gallagher</a>。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="rule"><span class="attribute">.container</span>:<span class="value">before,</span><br><span class="line">.container:after &#123;</span><br><span class="line">  content:<span class="string">""</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value">table</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="rule"><span class="attribute">.container</span>:<span class="value">after &#123;</span><br><span class="line">  clear:both</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">zoom</span>:<span class="value"><span class="number">1</span></span></span>; <span class="comment">/* For IE 6/7 (触发 hasLayout) */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="overflow属性"><a href="#overflow属性" class="headerlink" title="overflow属性"></a>overflow属性</h2><p>当定位元素不显示在容器外时，这种方案通常是首选。</p>
<p><a href="http://www.quirksmode.org/css/clearing.html" target="_blank" rel="external">http://www.quirksmode.org/css/clearing.html</a>，这篇文章解释了这种写法的一个常见问题，也就是在容器上设置<code>width: 100%</code>。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>; <span class="comment">/* 用来触发IE的hasLayout */</span></span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>; <span class="comment">/* 覆盖上一条属性，重新设置为block */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>触发IE浏览器的<code>hasLayout</code>不止有<code>display</code>这一个属性，其他的属性也可以做相同的工作。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>; <span class="comment">/* 清除浮动 */</span></span><br><span class="line">    <span class="rule"><span class="attribute">zoom</span>:<span class="value"> <span class="number">1</span></span></span>;  <span class="comment">/* 用来触发IE的hasLayout */</span></span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>; <span class="comment">/* 元素必须为块级元素，如果只应用于块级元素，这条可不写 */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>overflow</code>清除浮动的另一种方案是使用下划线hack，IE浏览器会识别带有下划线的属性，但是其他的浏览器不可以，下面是利用<code>zoom</code>属性触发IE hasLayout的写法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">_overflow</span>:<span class="value"> visible</span></span>; <span class="comment">/* for IE */</span></span><br><span class="line">    <span class="rule"><span class="attribute">_zoom</span>:<span class="value"> <span class="number">1</span></span></span>; <span class="comment">/* for IE */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>尽管这样很有用，但理想方案是不使用hack。</p>
<h2 id="after-伪元素"><a href="#after-伪元素" class="headerlink" title=":after 伪元素"></a>:after 伪元素</h2><p>这种旧的方案以使用杂乱的CSS为代价，但好处是它会允许定位元素超出容器的边界。</p>
<p><a href="http://www.positioniseverything.net/easyclearing.html" target="_blank" rel="external">http://www.positioniseverything.net/easyclearing.html</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="rule"><span class="attribute">.container</span>:<span class="value">after &#123;</span><br><span class="line">    content: <span class="string">" "</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">clear</span>:<span class="value"> both</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">visibility</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="使用行内样式，clear属性"><a href="#使用行内样式，clear属性" class="headerlink" title="使用行内样式，clear属性"></a>使用行内样式，clear属性</h2><p>一种快捷但是很乱的写法</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">br</span> <span class="attribute">style</span>=<span class="value">"clear:both"</span> /&gt;</span> <span class="comment">&lt;!-- So dirty! --&gt;</span></span><br></pre></td></tr></table></figure>
<p>因为很多因素，这种方案很不理想：</p>
<p>不符合代码复用的思想，让你的代码看起来很不专业。<br>以后有其他的清除浮动方案可使用时，你必须回头来整理这些杂乱的html。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/03/14/用margin还是用padding/" itemprop="url">
                用margin还是用padding?
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2016-03-14T11:33:52+08:00" content="2016-03-14">
            2016-03-14
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/转载/" itemprop="url" rel="index"><span itemprop="name">转载</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2016/03/14/用margin还是用padding/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/用margin还是用padding/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><strong>本文转载自<a href="http://www.hicss.net/" target="_blank" rel="external">海玉的博客</a>{:target=”_blank”}</strong><br><strong>原文地址：<a href="http://www.hicss.net/use-margin-or-padding/" target="_blank" rel="external">http://www.hicss.net/use-margin-or-padding/</a></strong></p>
<p>用<code>margin</code>还是用<code>padding</code>这个问题是每个学习CSS进阶时的必经之路。</p>
<blockquote>
<p>CSS边距属性定义元素周围的空间。通过使用单独的属性，可以对上、右、下、左的外边距进行设置。也可以使用简写的外边距属性同时改变所有的外边距。——W3School</p>
<p>边界(margin)：元素周围生成额外的空白区。“空白区”通常是指其他元素不能出现且父元素背景可见的区域。——CSS权威指南</p>
</blockquote>
<p><code>padding</code>称呼为内边距，其判断的依据即边框离内容正文的距离，而我喜欢CSS权威指南解释的“补白”（或者叫“留白”），因为他很形象。补白(<code>padding</code>)：补白位于元素框的边界与内容区之间。很自然，用于影响这个区域的属性是<code>padding</code>。</p>
<p>关于什么时候用<code>margin</code>什么时候用<code>padding</code>，网上有许许多多的讨论，大多数似乎讨论到点上面，却又有些隔靴搔痒的感觉，总是答不到点上。而且<code>margin</code>和<code>padding</code>在许多地方往往效果都是一模一样，而且你也不能说这个一定得用<code>margin</code>那个一定要用<code>padding</code>，因为实际的效果都一样，你说<code>margin</code>用起来好他说<code>padding</code>用起来会更好，但往往争论无果。根据网上的总结归纳大致发现这几条还是比较靠谱的：</p>
<blockquote>
<p>何时应当使用margin：<br>需要在border外侧添加空白时。<br>空白处不需要背景（色）时。<br>上下相连的两个盒子之间的空白，需要相互抵消时。如15px + 20px的margin，将得到20px的空白。<br>何时应当时用padding：<br>需要在border内测添加空白时。<br>空白处需要背景（色）时。<br>上下相连的两个盒子之间的空白，希望等于两者之和时。如15px + 20px的padding，将得到35px的空白。</p>
</blockquote>
<p>个人认为：<code>margin</code>是用来隔开元素与元素的间距；<code>padding</code>是用来隔开元素与内容的间隔。<code>margin</code>用于布局分开元素使元素与元素互不相干；<code>padding</code>用于元素与内容之间的间隔，让内容（文字）与（包裹）元素之间有一段“呼吸距离”。</p>
<p>举个例子吧<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>用Margin还是用Padding<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><br><span class="line"><span class="class">.top</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">50px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#ccf</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#cfc</span></span></span>; <span class="rule"><span class="attribute">border-top</span>:<span class="value"><span class="number">1px</span> solid <span class="hexcolor">#ccc</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle</span> <span class="class">.firstChild</span><span class="rules">&#123;<span class="rule"><span class="attribute">margin-top</span>:<span class="value"><span class="number">20px</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle</span> <span class="class">.secondChild</span><span class="rules">&#123;<span class="rule"><span class="attribute">margin-top</span>:<span class="value"><span class="number">15px</span></span></span>;&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"top"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"middle"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"firstChild"</span>&gt;</span>我是firstChild，我只是想和我的父元素隔开点距离，这样看起来舒服。<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"secondChild"</span>&gt;</span>我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>我是<code>firstChild</code>，我只是想和我的父元素隔开点距离，这样看起来舒服。<br>我是<code>secondChild</code>，我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。</p>
<p>上面这个效果看起来很不错，达到了我们需要实现的目标。然而，我们细细查看下这个代码，对照下我们上文所说的规则，firstChild用了<code>margin-top:20px</code>来隔开父元素与他的距离，secondChild也用<code>margin-top:15</code>来隔开他与firstChild的距离，咋看之下挺符合我们所说的<code>margin</code>是用来隔开元素与元素的间距。但是他符合我们所说的<code>margin</code>用于布局分开元素使元素与元素互不相干吗？</p>
<p>这里我想说的是NO，firstChild同middle属于一种父子元素关系，又是一种包裹元素与内容的关系，他们之间从拟人化的角度来讲，不应该是老死不相干的局面。我们再来看我们为什么要让firstChild与他的父元素隔开的距离，从表现的角度上来看，文字与边靠的太近，肯定不好看。让文字与元素边隔开的距离，既美观，又使得文字有了足够的“呼吸空间”，方便阅读，这恰恰符合<code>padding</code>用于元素与内容之间的间隔让内容（文字）与（包裹）元素之间有个“呼吸距离”。</p>
<p>我们再来看，firstChild使用<code>margin-top</code>引发了垂直外边距合并的隐患，middle如果不加一个类似<code>border-top:1px solid #ccc</code>的话标准浏览器下就会呈现子元素顶了父元素<code>margin</code>隐患（这是个垂直外边距合并问题，可以查看不要告诉我你懂<code>margin</code>，这篇文章内有详细介绍）。可见这个时候<code>margin</code>显然不是很好的选择。</p>
<p>我们来试着这么修改：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>用Margin还是用Padding<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><br><span class="line"><span class="class">.top</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">50px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#ccf</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle_2</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#cfc</span></span></span>; <span class="rule"><span class="attribute">padding</span>:<span class="value"><span class="number">20px</span> <span class="number">0px</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle_2</span> <span class="class">.firstChild</span><span class="rules">&#123;&#125;</span></span><br><span class="line"><span class="class">.middle_2</span> <span class="class">.secondChild</span><span class="rules">&#123;<span class="rule"><span class="attribute">margin-top</span>:<span class="value"><span class="number">15px</span></span></span>;&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"top"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"middle_2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"firstChild"</span>&gt;</span>我是firstChild，我只是想和我的父元素隔开点距离，这样看起来舒服<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"secondChild"</span>&gt;</span>我是secondChild，我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>我是firstChild，我只是想和我的父元素隔开点距离，这样看起来舒服<br>我是secondChild，我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。</p>
<p>我们来看看这么写的好处吧：</p>
<ol>
<li>外观依旧良好，结构清晰也没有破坏布局。</li>
<li>不会产生垂直外边距合并这样的问题。</li>
<li>书写规范、代码量减少、重用性好。</li>
</ol>
<p>我们可以看到在middle_2中去除了不需要的<code>border-top</code>，改为更为实用的<code>padding:20px 0</code>，让middle_2中的内容有了足够的“呼吸空间”，以后还可以随时随地修改这个<code>padding</code>，让内容文字的“呼吸空间”增大或者缩小，随时随地只修改一个middle_2的<code>padding</code>就能搞定所有包裹元素与内部内容的规划。</p>
<p>请注意这里是父元素应用<code>padding</code>，使得与其内容产生间隙，这是符合我们翻译为“补白”精髓（所以我一直喜欢称<code>padding</code>为“补白”而不是内边距），而<code>padding</code>也恰恰是在这儿最能体检他的价值。这个例子把第一个元素的<code>margin-top</code>去除，在父元素中应用<code>padding</code>。反过来，你会想，既然<code>margin-top</code>不好用，那么我第一个元素用<code>padding-top</code>不是也能达到效果么。恭喜你，你已经前进了一步了，的确使用padding-top即让第一元素与外包裹元素产生了呼吸距离，而且也不会出现所谓的垂直外边距重叠问题， 但是我依旧不推荐你这么做。为什么呢？我们来设想这么一个情况吧，假如有一天，你这个模块要产生变动，新需求要删除这个firstChild，替换为otherChild，会怎么样呢？</p>
<p>新的需求要求我们新加一个otherChild，替换原来的firstChild：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>用Margin还是用Padding<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><br><span class="line"><span class="class">.top</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">50px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#ccf</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle_3</span><span class="rules">&#123;<span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">160px</span></span></span>; <span class="rule"><span class="attribute">background</span>:<span class="value"><span class="hexcolor">#cfc</span></span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle_3</span> <span class="class">.otherChild</span><span class="rules">&#123;<span class="rule"><span class="attribute">font-weight</span>:<span class="value">bold</span></span>; <span class="rule"><span class="attribute">font-style</span>:<span class="value"> italic</span></span>;&#125;</span></span><br><span class="line"><span class="class">.middle_3</span> <span class="class">.secondChild</span><span class="rules">&#123;<span class="rule"><span class="attribute">margin-top</span>:<span class="value"><span class="number">10px</span></span></span>;&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"top"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"middle_3"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"otherChild"</span>&gt;</span>我是新来的otherChild，我也想和我的父元素隔开点距离，这样看起来舒服，咦？！为什么我是在顶部？<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"secondChild"</span>&gt;</span>我是secondChild，我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>我是新来的otherChild，我也想和我的父元素隔开点距离，这样看起来舒服，咦？！为什么我是在顶部？<br>我是secondChild，我要和楼上隔开点的距离。恩，能与底边有点呼吸距离就更好了。</p>
<p>发现问题了么？如果你把原先的firstChild给删除掉了，新来的元素根本就没有定义上边距或者上补白，那么他就会自然顶在头部，不是理想的效果。的确，你可以为了他新写一个css来让他距离头部多一点空隙，但是你该怎么写？直接改otherChild吗？如果其他页面里面也有otherChild那么你会把其他地方的otherChild布局打乱。恩，那么我用.<code>middle_3 .otherChild{padding-top:10px;}</code>怎么样可以吧。恩，可以可以，可是你不觉得这么累吗？每次修改，都要增加这一个多余的代码就为了简简单单的隔开点距离，久而久之，你的css文件代码会臃肿不堪，可移植性大大削弱。</p>
<p>每次开发的时候我一直对自己讲，你写的代码总有一天会被别的开发人员所替换、修改、更新。而一个优秀的前端写出的css不但在现在结构坚固并且还能为日后的开发人员提供方便。修改我的代码，改前改后的式样位置都一样，让之后的开发人员根本上避免接触到再次“修复”开发的机会，那才是一名真正前端的追求。这里你把包裹的div类似“封装”好一个环境，而且这个div内已经留有足够的内容的“呼吸空间”，你只需要改内容，内容所要考虑到得位置边距问题，外包的div元素早已经帮你预留好了，你用起来方便，今后改起来也方便，直接找到middle修改<code>padding</code>即可。</p>
<p>所谓大道万千，运用之妙存乎一心。该用<code>margin</code>的时候就大胆的用他，该用<code>padding</code>也不用退缩不前，实战中累积出来的经验往往是最有用的，而当你不确定是用<code>margin</code>好还是用<code>padding</code>，请在看看这个原则吧，或许你会有一个自己的答案。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/11/26/javascript用栈的思想实现数制转换/" itemprop="url">
                javascript用栈的思想实现数制转换
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-11-26T11:31:43+08:00" content="2015-11-26">
            2015-11-26
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/11/26/javascript用栈的思想实现数制转换/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/11/26/javascript用栈的思想实现数制转换/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><strong>可以利用栈将一个数字从一种数制转换成另一种数制。假设想将数字n转换为以b为基数的数字，实现转换的算法如下：</strong></p>
<ol>
<li>最高位为 n%b ，将此位压入栈。</li>
<li>使用 n/b 代替n。</li>
<li>重复步骤1和2，直到n等于0，且没有余数。</li>
<li>持续将栈内元素弹出，直到栈为空，依次将这些元素排列，就得到转换后的数字的字符串形式。</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">        <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.push = push;</span><br><span class="line">        <span class="keyword">this</span>.pop = pop;</span><br><span class="line">        <span class="keyword">this</span>.peek = peek;</span><br><span class="line">        <span class="keyword">this</span>.clear = clear;</span><br><span class="line">        <span class="keyword">this</span>.length = length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++] = element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.top;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 数制转换函数 */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">mulBase</span>(<span class="params">num, base</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> s = <span class="keyword">new</span> Stack();</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            s.push(num%base);</span><br><span class="line">            num = <span class="built_in">Math</span>.floor(num /= base);</span><br><span class="line">        &#125; <span class="keyword">while</span>(num &gt; <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">var</span> converted = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">while</span>(s.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            converted += s.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> converted;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    alert(mulBase(<span class="number">10</span>, <span class="number">2</span>));</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/10/29/ES6学习笔记-Module的基本用法/" itemprop="url">
                ES6学习笔记:Module的基本用法
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-10-29T11:06:32+08:00" content="2015-10-29">
            2015-10-29
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/10/29/ES6学习笔记-Module的基本用法/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/ES6学习笔记-Module的基本用法/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="export和import"><a href="#export和import" class="headerlink" title="export和import"></a>export和import</h2><p>ES6实现了模块功能，试图解决JavaScript代码上的依赖和部署上的问题，取代现有的<code>CommonJs</code>的<code>AMD</code>规范，成为浏览器和服务器通用的模块解决方案。</p>
<p>模块功能有两个关键字： <code>export</code>和<code>import</code>。<code>export</code>用于用户自定义模块，规定对外接口；<code>import</code>用于输入其它模块提供的功能，同时创造命名空间(<code>namespace</code>)，防止函数名冲突。</p>
<p>ES6允许将独立的JS文件作为模块，也就是说，允许一个<code>JavaScript</code>脚本文件调用另一个脚本文件。最简单的模块就是一个JS文件，里面使用<code>export</code>关键字输出变量。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// profile.js</span></span><br><span class="line"><span class="literal">export</span> <span class="keyword">var</span> firstName = <span class="string">'David'</span>;</span><br><span class="line"><span class="literal">export</span> <span class="keyword">var</span> lastName = <span class="string">'Belle'</span>;</span><br><span class="line"><span class="literal">export</span> <span class="keyword">var</span> year = <span class="number">1973</span>;</span><br></pre></td></tr></table></figure>
<p>上面是<code>profile.js</code>的内容，ES6将其视为一个模块，里面用<code>export</code>关键字输出了三个变量。<code>export</code>的写法，除了上面这样，还有另外一种，两者是等价的。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// profile.js</span></span><br><span class="line"><span class="keyword">var</span> firstName = <span class="string">'David'</span>;</span><br><span class="line"><span class="keyword">var</span> lastName = <span class="string">'Belle'</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">1973</span>;</span><br><span class="line"></span><br><span class="line"><span class="literal">export</span> &#123;firstName, lastName, year&#125;;</span><br></pre></td></tr></table></figure>
<p>使用<code>export</code>定义模块后，其他JS文件就可以通过<code>import</code>关键字加载这个模块(文件)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;firstName, lastName, year&#125; <span class="keyword">from</span> <span class="string">'./profile'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setHeader</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    element.textContent = firstName + <span class="string">' '</span> + lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码中<code>import</code>关键字接受一个对象(用大括号表示)，里面指定要从其他模块导入的变量。大括号里面的变量名，必须与被导入模块对外接口的名称相同。</p>
<p>如果想为输入的属性或方法重新取一个名字，import语句要写成这样。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;someMethod, another <span class="keyword">as</span> newName&#125; <span class="keyword">from</span> <span class="string">'./profile'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="模块的整体加载"><a href="#模块的整体加载" class="headerlink" title="模块的整体加载"></a>模块的整体加载</h2><p><code>export</code>关键字除了输出变量，还可以输出方法或类(<code>class</code>)。下面是<code>circle.js</code>文件的内容，它输出两个方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// circle.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">area</span>(<span class="params">redius</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.PI * radius * radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">circumference</span>(<span class="params">radius</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * <span class="built_in">Math</span>.PI * radius;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后，<code>main.js</code>引用这个模块。</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">import</span> &#123;area, circumference&#125; from './<span class="built_in">circle</span>';</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span><span class="params">(<span class="string">"圆面积： "</span> + area<span class="params">(<span class="number">4</span>)</span>)</span>;</span><br><span class="line">console.<span class="built_in">log</span><span class="params">(<span class="string">"圆周长： "</span> + circumference<span class="params">(<span class="number">14</span>)</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>上面的写法是逐一指定要导入的方法。另一种写法是使用<code>module</code>关键字，整体导入。</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line">module <span class="keyword">circle</span> from <span class="string">'./circle'</span>;</span><br><span class="line"></span><br><span class="line">console.<span class="keyword">log</span>(<span class="string">"圆面积： "</span> + <span class="keyword">circle</span>.area(<span class="number">4</span>));</span><br><span class="line">console.<span class="keyword">log</span>(<span class="string">"圆周长： "</span> + <span class="keyword">circle</span>.circumference(<span class="number">14</span>));</span><br></pre></td></tr></table></figure>
<p><code>module</code>关键字后面跟一个变量，表示导入的模块定义在该变量上。</p>
<h2 id="export-default语句"><a href="#export-default语句" class="headerlink" title="export default语句"></a>export default语句</h2><p>如果不想为某个属性或方法指定输入的名称，可以使用<code>export default</code>语句。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// export-default.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中的<code>foo</code>方法，就被称为该模块的默认方法。</p>
<p>在其他模块导入该模块时，<code>import</code>语句可以为默认方法指定任意名字。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import-default.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> customName <span class="keyword">from</span> <span class="string">'export-default'</span>;</span><br><span class="line"></span><br><span class="line">customName(); <span class="comment">// 'foo'</span></span><br></pre></td></tr></table></figure>
<p>显然，一个模块只能有一个默认方法。</p>
<p>如果要输出默认属性，只需将值跟在<code>export default</code>之后即可。</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="reserved">export</span> <span class="reserved">default</span> <span class="number">42</span>;</span><br></pre></td></tr></table></figure>
<h2 id="模块的继承"><a href="#模块的继承" class="headerlink" title="模块的继承"></a>模块的继承</h2><p>模块之间也可以继承。</p>
<p>假设有一个<code>circleplus</code>模块，继承了<code>circle</code>模块。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// circleplus.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> * from <span class="string">'./circle'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> * from <span class="string">'circle'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> e = <span class="number">2.71828182846</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.exp(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中的“export *”，表示输出<code>circle</code>模块的所有属性和方法，<code>export default</code>命令定义模块的默认方法。</p>
<p>这时，也可以将circle的属性或方法，改名后再输出。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// circleplus.js</span></span><br><span class="line">    </span><br><span class="line">export &#123; area <span class="keyword">as</span> circleArea &#125; <span class="keyword">from</span> <span class="string">'circle'</span>;</span><br></pre></td></tr></table></figure>
<p>上面代码表示，只输出<code>circle</code>模块的<code>area</code>方法，且将其改名为<code>circleArea</code>。</p>
<p>加载上面模块的写法如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span> math from <span class="string">"circleplus"</span>;</span><br><span class="line"><span class="keyword">import</span> exp <span class="keyword">from</span> <span class="string">"circleplus"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(exp(math.E));</span><br></pre></td></tr></table></figure>
<p>上面代码中的”import exp”表示，将<code>circleplus</code>模块的默认方法加载为<code>exp</code>方法。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/19/JS的单例模式/" itemprop="url">
                JS的单例模式
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-09-19T10:46:51+08:00" content="2015-09-19">
            2015-09-19
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/09/19/JS的单例模式/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/09/19/JS的单例模式/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>维基百科对单例模式的介绍如下：</p>
<blockquote>
<p>在应用单例模式时，生成单例的类必须保证只有一个实例的存在，很多时候整个系统只需要拥有一个全局对象，才有利于协调系统整体的行为。比如在整个系统的配置文件中，配置数据有一个单例对象进行统一读取和修改，其他对象需要配置数据的时候也统一通过该单例对象来获取配置数据，这样就可以简化复杂环境下的配置管理。</p>
</blockquote>
<h2 id="实现一、最简单的字面量写法"><a href="#实现一、最简单的字面量写法" class="headerlink" title="实现一、最简单的字面量写法"></a>实现一、最简单的字面量写法</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="nimrod"></span><br><span class="line">    <span class="keyword">var</span> singleton = &#123;</span><br><span class="line">        attr: <span class="number">1</span>,</span><br><span class="line">        <span class="keyword">method</span>: function()&#123; <span class="keyword">return</span> this.attr;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> t1 = singleton;</span><br><span class="line">    <span class="keyword">var</span> t2 = singleton;</span><br><span class="line"></span><br><span class="line">    alert(t1 === t2); // <span class="literal">true</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>十分简单，并且非常使用，不足之处在于没有什么封装性，所有的属性方法都是暴露的。对于一些需要使用私有变量的情况就显得心有余而力不足了。当然在对于 this 的问题上也是有一定弊端的。</p>
<h2 id="实现二、构造函数内部判断"><a href="#实现二、构造函数内部判断" class="headerlink" title="实现二、构造函数内部判断"></a>实现二、构造函数内部判断</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="actionscript"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Construct</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// 确保只有单例</span></span><br><span class="line">        <span class="keyword">if</span>( Construct.unique !== <span class="literal">undefined</span> )&#123;</span><br><span class="line">            <span class="keyword">return</span> Construct.unique; </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 其他代码</span></span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">"NYF"</span>;</span><br><span class="line">        <span class="keyword">this</span>.age=<span class="string">"24"</span>;</span><br><span class="line">        Construct.unique = <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> t1 = <span class="keyword">new</span> Construct() ;</span><br><span class="line">    <span class="keyword">var</span> t2 = <span class="keyword">new</span> Construct() ;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>也是非常简单，无非就是提出一个属性来做判断，但是该方式也没有安全性，一旦我在外部修改了Construct的unique属性，那么单例模式也就被破坏了。</p>
<h2 id="实现三、闭包方式"><a href="#实现三、闭包方式" class="headerlink" title="实现三、闭包方式"></a>实现三、闭包方式</h2><p>对于打着”灵活”牌子的JS来说，任何问题都能找到 n 种答案，只不过让我自己去掂量孰优孰劣而已，下面就简单的举几个使用闭包实现单例模式的方法，无非也就是将创建了的单例缓存而已。</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="stylus"></span><br><span class="line">    <span class="tag">var</span> single = (<span class="function"><span class="title">function</span><span class="params">()</span></span></span></span><span class="expression">&#123;</span><br><span class="line">        <span class="variable">var</span> <span class="variable">unique</span>;</span><br><span class="line">        <span class="variable">function</span> <span class="variable">Constructor</span>() &#123;</span><br><span class="line">            <span class="variable">this.name</span> = <span class="string">"NYF"</span>;</span><br><span class="line">            <span class="variable">this.age</span>=<span class="string">"24"</span>;</span><br><span class="line">        &#125;</span><span class="xml"><span class="oxygene"></span><br><span class="line">        unique = <span class="keyword">new</span> <span class="function"><span class="keyword">Constructor</span><span class="params">()</span>;</span></span><br><span class="line">        return unique;</span><br><span class="line"></span><br><span class="line">    &#125;)();</span><br><span class="line">    <span class="keyword">var</span> t1 = single;</span><br><span class="line">    <span class="keyword">var</span> t2 = single;</span><br><span class="line"></span><br><span class="line">    alert(t1 === t2);</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>只要 每次讲 var t1 = single; var t2 = single;即可。 与对象字面量方式类似。不过相对而言更安全一点，当然也不是绝对安全。</p>
<p>如果希望会用调用 single() 方式来使用，那么也只需要将内部的 return 改为</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> unique;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上方式也可以使用 new 的方式来进行（形式主义的赶脚）。当然这边只是给了闭包的一种例子而已，也可以在 Construct 中判断单例是否存在 等等。 各种方式在各个不同情况做好选着即可。</p>
<p>参考原文<a href="http://my.oschina.net/humaotegong/blog/410666?p=1" target="_blank" rel="external">http://my.oschina.net/humaotegong/blog/410666?p=1</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </nav>


            </div>

            

            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/uploads/avatar.jpg" alt="Zhongshan" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Zhongshan</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Zhongshan's Blog</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">38</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhongshan1993" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/zhongshan93" target="_blank">Weibo</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cnblogs.com/zhongshanblog/" target="_blank">Cnblogs</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://zhongshan1993.github.io/diary/" target="_blank">MyDiary</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhongshan</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhongshan1993"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	  <script type="text/javascript">
  		var duoshuo_user_ID = 0
  	  </script>
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>




  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhongshan1993"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	  <script type="text/javascript">
  		var duoshuo_user_ID = 0
  	  </script>
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  





<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
